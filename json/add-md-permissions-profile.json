{
  "command": "add-md-permissions-profile",
  "description": "Create new Multi-Domain Permissions Profile.",
  "request": {
    "url": "POST https://<mgmt-server>:<port>/web_api/add-md-permissions-profile",
    "headers": [
      {
        "name": "Content-Type",
        "value": "application/json",
        "description": "Send JSON object to use the API Web Services"
      },
      {
        "name": "X-chkp-sid",
        "value": "string token",
        "description": "Session unique identifier as it returned by the login request"
      }
    ],
    "body": [
      {
        "name": "name",
        "description": "Object name. Must be unique in the domain.",
        "type": "string",
        "required": true
      },
      {
        "name": "permission-level",
        "description": "The level of the Multi Domain Permissions Profile.The level cannot be changed after creation.",
        "type": "string",
        "required": false,
        "default": "manager",
        "valid_values": [
          "super user",
          "manager",
          "domain level only"
        ]
      },
      {
        "name": "mds-provisioning",
        "description": "Create and manage Multi-Domain Servers and Multi-Domain Log Servers.Only a \"Super User\" permission-level profile can select this option.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "manage-admins",
        "description": "Create and manage Multi-Domain Security Management administrators with the same or lower permission level. For example, a Domain manager cannot create Superusers or global managers.Only a 'Manager' permission-level profile can edit this permission.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "manage-sessions",
        "description": "Connect/disconnect Domain sessions, publish changes, and delete other administrator sessions.Only a 'Manager' permission-level profile can edit this permission.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "management-api-login",
        "description": "Permission to log in to the Security Management Server and run API commands using these tools: mgmt_cli (Linux and Windows binaries), Gaia CLI (clish) and Web Services (REST). Useful if you want to prevent administrators from running automatic scripts on the Management.Note: This permission is not required to run commands from within the API terminal in SmartConsole.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "cme-operations",
        "description": "Permission to read / edit the Cloud Management Extension (CME) configuration.",
        "type": "string",
        "required": false,
        "valid_values": [
          "read",
          "write",
          "disabled"
        ]
      },
      {
        "name": "global-vpn-management",
        "description": "Lets the administrator select Enable global use for a Security Gateway shown in the MDS Gateways & Servers view.Only a 'Manager' permission-level profile can edit this permission.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "manage-global-assignments",
        "description": "Controls the ability to create, edit and delete global assignment and not the ability to reassign, which is set according to the specific Domain's permission profile.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "enable-default-profile-for-global-domains",
        "description": "Enable the option to specify a default profile for all global domains.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "default-profile-global-domains",
        "description": "Name or UID of the required default profile for all global domains.",
        "type": "string",
        "required": false
      },
      {
        "name": "view-global-objects-in-domain",
        "description": "Lets an administrator with no global objects permissions view the global objects in the domain. This option is required for valid domain management.",
        "type": "boolean",
        "required": false,
        "default": "true"
      },
      {
        "name": "enable-default-profile-for-local-domains",
        "description": "Enable the option to specify a default profile for all local domains.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "default-profile-local-domains",
        "description": "Name or UID of the required default profile for all local domains.",
        "type": "string",
        "required": false
      }
    ]
  },
  "response": {
    "success": [
      {
        "name": "name",
        "description": "Object name. Must be unique in the domain.",
        "type": "string",
        "required": false
      },
      {
        "name": "uid",
        "description": "Object unique identifier.",
        "type": "string",
        "required": false
      },
      {
        "name": "type",
        "description": "Object type.",
        "type": "string",
        "required": false
      },
      {
        "name": "permission-level",
        "description": "The level of the Multi Domain Permissions Profile.The level cannot be changed after creation.",
        "type": "string",
        "required": false,
        "valid_values": [
          "super user",
          "manager",
          "domain level only"
        ]
      },
      {
        "name": "mds-provisioning",
        "description": "Create and manage Multi-Domain Servers and Multi-Domain Log Servers.Only a \"Super User\" permission-level profile can select this option.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "manage-all-domains",
        "description": "Create and manage all Domains and Global Domains.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "manage-admins",
        "description": "Create and manage Multi-Domain Security Management administrators with the same or lower permission level. For example, a Domain manager cannot create Superusers or global managers.Only a 'Manager' permission-level profile can edit this permission.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "manage-sessions",
        "description": "Connect/disconnect Domain sessions, publish changes, and delete other administrator sessions.Only a 'Manager' permission-level profile can edit this permission.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "management-api-login",
        "description": "Permission to log in to the Security Management Server and run API commands using these tools: mgmt_cli (Linux and Windows binaries), Gaia CLI (clish) and Web Services (REST). Useful if you want to prevent administrators from running automatic scripts on the Management.Note: This permission is not required to run commands from within the API terminal in SmartConsole.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "cme-operations",
        "description": "Permission to read / edit the Cloud Management Extension (CME) configuration.",
        "type": "string",
        "required": false,
        "valid_values": [
          "read",
          "write",
          "disabled"
        ]
      },
      {
        "name": "global-vpn-management",
        "description": "Lets the administrator select Enable global use for a Security Gateway shown in the MDS Gateways & Servers view.Only a 'Manager' permission-level profile can edit this permission.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "manage-global-assignments",
        "description": "Controls the ability to create, edit and delete global assignment and not the ability to reassign, which is set according to the specific Domain's permission profile.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "enable-default-profile-for-global-domains",
        "description": "Enable the option to specify a default profile for all global domains.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "default-profile-global-domains",
        "description": "",
        "type": "Object",
        "required": false,
        "valid_values": [
          "aquamarine",
          "black",
          "blue",
          "crete blue",
          "burlywood",
          "cyan",
          "dark green",
          "khaki",
          "orchid",
          "dark orange",
          "dark sea green",
          "pink",
          "turquoise",
          "dark blue",
          "firebrick",
          "brown",
          "forest green",
          "gold",
          "dark gold",
          "gray",
          "dark gray",
          "light green",
          "lemon chiffon",
          "coral",
          "sea green",
          "sky blue",
          "magenta",
          "purple",
          "slate blue",
          "violet red",
          "navy blue",
          "olive",
          "orange",
          "red",
          "sienna",
          "yellow",
          "none"
        ]
      },
      {
        "name": "name",
        "description": "Object name. Must be unique in the domain.",
        "type": "string",
        "required": false
      },
      {
        "name": "uid",
        "description": "Object unique identifier.",
        "type": "string",
        "required": false
      },
      {
        "name": "type",
        "description": "Object type.",
        "type": "string",
        "required": false
      },
      {
        "name": "color",
        "description": "Color of the object. Should be one of existing colors.",
        "type": "string",
        "required": false,
        "valid_values": [
          "aquamarine",
          "black",
          "blue",
          "crete blue",
          "burlywood",
          "cyan",
          "dark green",
          "khaki",
          "orchid",
          "dark orange",
          "dark sea green",
          "pink",
          "turquoise",
          "dark blue",
          "firebrick",
          "brown",
          "forest green",
          "gold",
          "dark gold",
          "gray",
          "dark gray",
          "light green",
          "lemon chiffon",
          "coral",
          "sea green",
          "sky blue",
          "magenta",
          "purple",
          "slate blue",
          "violet red",
          "navy blue",
          "olive",
          "orange",
          "red",
          "sienna",
          "yellow",
          "none"
        ]
      },
      {
        "name": "domain",
        "description": "",
        "type": "Object",
        "required": false,
        "valid_values": [
          "mds",
          "data domain",
          "domain",
          "global domain"
        ]
      },
      {
        "name": "name",
        "description": "Object name. Must be unique in the domain.",
        "type": "string",
        "required": false
      },
      {
        "name": "uid",
        "description": "Object unique identifier.",
        "type": "string",
        "required": false
      },
      {
        "name": "domain-type",
        "description": "Domain type.",
        "type": "string",
        "required": false,
        "valid_values": [
          "mds",
          "data domain",
          "domain",
          "global domain"
        ]
      },
      {
        "name": "icon",
        "description": "Object icon.",
        "type": "string",
        "required": false
      },
      {
        "name": "view-global-objects-in-domain",
        "description": "Lets an administrator with no global objects permissions view the global objects in the domain. This option is required for valid domain management.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "enable-default-profile-for-local-domains",
        "description": "Enable the option to specify a default profile for all local domains.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "default-profile-local-domains",
        "description": "",
        "type": "Object",
        "required": false,
        "valid_values": [
          "aquamarine",
          "black",
          "blue",
          "crete blue",
          "burlywood",
          "cyan",
          "dark green",
          "khaki",
          "orchid",
          "dark orange",
          "dark sea green",
          "pink",
          "turquoise",
          "dark blue",
          "firebrick",
          "brown",
          "forest green",
          "gold",
          "dark gold",
          "gray",
          "dark gray",
          "light green",
          "lemon chiffon",
          "coral",
          "sea green",
          "sky blue",
          "magenta",
          "purple",
          "slate blue",
          "violet red",
          "navy blue",
          "olive",
          "orange",
          "red",
          "sienna",
          "yellow",
          "none"
        ]
      },
      {
        "name": "name",
        "description": "Object name. Must be unique in the domain.",
        "type": "string",
        "required": false
      },
      {
        "name": "uid",
        "description": "Object unique identifier.",
        "type": "string",
        "required": false
      },
      {
        "name": "type",
        "description": "Object type.",
        "type": "string",
        "required": false
      },
      {
        "name": "color",
        "description": "Color of the object. Should be one of existing colors.",
        "type": "string",
        "required": false,
        "valid_values": [
          "aquamarine",
          "black",
          "blue",
          "crete blue",
          "burlywood",
          "cyan",
          "dark green",
          "khaki",
          "orchid",
          "dark orange",
          "dark sea green",
          "pink",
          "turquoise",
          "dark blue",
          "firebrick",
          "brown",
          "forest green",
          "gold",
          "dark gold",
          "gray",
          "dark gray",
          "light green",
          "lemon chiffon",
          "coral",
          "sea green",
          "sky blue",
          "magenta",
          "purple",
          "slate blue",
          "violet red",
          "navy blue",
          "olive",
          "orange",
          "red",
          "sienna",
          "yellow",
          "none"
        ]
      },
      {
        "name": "domain",
        "description": "",
        "type": "Object",
        "required": false,
        "valid_values": [
          "mds",
          "data domain",
          "domain",
          "global domain"
        ]
      },
      {
        "name": "name",
        "description": "Object name. Must be unique in the domain.",
        "type": "string",
        "required": false
      },
      {
        "name": "uid",
        "description": "Object unique identifier.",
        "type": "string",
        "required": false
      },
      {
        "name": "domain-type",
        "description": "Domain type.",
        "type": "string",
        "required": false,
        "valid_values": [
          "mds",
          "data domain",
          "domain",
          "global domain"
        ]
      },
      {
        "name": "icon",
        "description": "Object icon.",
        "type": "string",
        "required": false
      }
    ],
    "failure": [
      {
        "name": "message",
        "description": "Operation status.",
        "type": "string",
        "required": false
      },
      {
        "name": "warnings",
        "description": "",
        "type": "array",
        "required": false
      },
      {
        "name": "current-session",
        "description": "Validation related to the current session.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "message",
        "description": "Validation message.",
        "type": "string",
        "required": false
      },
      {
        "name": "errors",
        "description": "",
        "type": "array",
        "required": false
      },
      {
        "name": "current-session",
        "description": "Validation related to the current session.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "message",
        "description": "Validation message.",
        "type": "string",
        "required": false
      },
      {
        "name": "blocking-errors",
        "description": "",
        "type": "array",
        "required": false
      },
      {
        "name": "current-session",
        "description": "Validation related to the current session.",
        "type": "boolean",
        "required": false
      },
      {
        "name": "message",
        "description": "Validation message.",
        "type": "string",
        "required": false
      },
      {
        "name": "code",
        "description": "Error code.",
        "type": "string",
        "required": false,
        "valid_values": [
          "generic_error",
          "generic_err_invalid_syntax",
          "generic_err_invalid_parameter_name",
          "not_implemented",
          "generic_internal_error",
          "generic_server_error",
          "generic_server_initializing",
          "generic_err_command_not_found",
          "generic_err_command_version_not_found",
          "generic_err_invalid_api_type",
          "generic_err_invalid_api_object_feature",
          "generic_err_missing_required_parameters",
          "generic_err_missing_required_header",
          "generic_err_invalid_header",
          "generic_err_invalid_parameter",
          "generic_err_normalize",
          "err_bad_url",
          "err_unknown_api_version",
          "err_login_failed_wrong_username_or_password",
          "err_login_failed_more_than_one_opened_session",
          "err_login_failed",
          "err_already_connected",
          "err_normalization_failed",
          "err_validation_failed",
          "err_submit_failed",
          "err_publish_failed",
          "generic_err_missing_session_id",
          "generic_err_wrong_session_id",
          "generic_err_session_expired",
          "generic_err_session_in_use",
          "err_switch_session_failed",
          "err_connect_session_failed",
          "err_assign_session_failed",
          "err_take_over_session_failed",
          "generic_err_no_permissions",
          "err_forbidden",
          "err_not_a_system_domain_session",
          "err_inappropriate_domain_type",
          "generic_err_object_not_found",
          "generic_err_object_field_not_unique",
          "generic_err_object_type_wrong",
          "generic_err_object_locked",
          "generic_err_object_deletion",
          "err_ha_invalid_operation",
          "err_policy_installation_failed",
          "err_policy_verification_failed",
          "err_rulebase_invalid_operation",
          "err_installed_policy_mismatch",
          "err_server_certificate_operation_failed",
          "err_outbound_inspection_certificate_operation_failed",
          "err_gaia_api_login_failed",
          "err_gaia_api_send_command_failed",
          "err_cme_api_send_command_failed",
          "err_cme_api_not_running_failure",
          "err_infinity_unauthorized",
          "err_infinity_network",
          "err_too_many_requests"
        ]
      }
    ],
    "http_codes": {
      "success": [
        200
      ],
      "failure": [
        400,
        401,
        403,
        404,
        409,
        500,
        501
      ]
    }
  },
  "examples": {
    "add-md-permissions-profile": {
      "description": "Add a Multi Domain Permissions Profile with the default permission-level",
      "request": "POST {{server}}/add-md-permissions-profile\nContent-Type: application/json\nX-chkp-sid: {{session}}\n\n{\n  \"name\" : \"manager profile\"\n}\n\n • This command is available only after logging in to the System Data domain.",
      "response": "{\n  \"uid\" : \"100a2860-1bd3-4402-9dc4-83d52ddd0a84\",\n  \"name\" : \"manager profile\",\n  \"type\" : \"md-permissions-profile\",\n  \"domain\" : {\n    \"uid\" : \"a0eebc99-afed-4ef8-bb6d-fedfedfedfed\",\n    \"name\" : \"System Data\",\n    \"domain-type\" : \"mds\"\n  },\n  \"meta-info\" : {\n    \"lock\" : \"unlocked\",\n    \"validation-state\" : \"ok\",\n    \"last-modify-time\" : {\n      \"posix\" : 1640616788167,\n      \"iso-8601\" : \"2021-12-27T16:53+0200\"\n    },\n    \"last-modifier\" : \"aa\",\n    \"creation-time\" : {\n      \"posix\" : 1640616788167,\n      \"iso-8601\" : \"2021-12-27T16:53+0200\"\n    },\n    \"creator\" : \"aa\"\n  },\n  \"tags\" : [ ],\n  \"read-only\" : true,\n  \"comments\" : \"\",\n  \"color\" : \"black\",\n  \"icon\" : \"General/Role\",\n  \"permission-level\" : \"manager\",\n  \"mds-provisioning\" : false,\n  \"manage-all-domains\" : false,\n  \"manage-admins\" : true,\n  \"manage-sessions\" : false,\n  \"management-api-login\" : true,\n  \"cme-operations\" : \"disabled\",\n  \"global-vpn-management\" : false,\n  \"manage-global-assignments\" : false,\n  \"enable-default-profile-for-global-domains\" : true,\n  \"default-profile-global-domains\" : {\n    \"uid\" : \"f4a23218-5bb9-4880-94bb-9c06b951f195\",\n    \"name\" : \"Read Only All\",\n    \"type\" : \"domain-permissions-profile\",\n    \"domain\" : {\n      \"uid\" : \"a0bbbc99-adef-4ef8-bb6d-defdefdefdef\",\n      \"name\" : \"Check Point Data\",\n      \"domain-type\" : \"data domain\"\n    },\n    \"icon\" : \"General/Role\",\n    \"color\" : \"black\"\n  },\n  \"view-global-objects-in-domain\" : true,\n  \"enable-default-profile-for-local-domains\" : false\n}"
    },
    "add-md-permissions-profile (Domain Level Only)": {
      "description": "Add a Domain Level Only profile with a default profile for all local domains",
      "request": "POST {{server}}/add-md-permissions-profile\nContent-Type: application/json\nX-chkp-sid: {{session}}\n\n{\n  \"name\" : \"domain level only profile\",\n  \"permission-level\" : \"domain level only\",\n  \"enable-default-profile-for-local-domains\" : \"true\",\n  \"default-profile-local-domains\" : \"read only all\"\n}\n\n • This command is available only after logging in to the System Data domain.",
      "response": "{\n  \"uid\" : \"2587fcea-9584-4f01-8412-2ae90afbf2bb\",\n  \"name\" : \"domain level only profile\",\n  \"type\" : \"md-permissions-profile\",\n  \"domain\" : {\n    \"uid\" : \"a0eebc99-afed-4ef8-bb6d-fedfedfedfed\",\n    \"name\" : \"System Data\",\n    \"domain-type\" : \"mds\"\n  },\n  \"meta-info\" : {\n    \"lock\" : \"unlocked\",\n    \"validation-state\" : \"ok\",\n    \"last-modify-time\" : {\n      \"posix\" : 1640685250021,\n      \"iso-8601\" : \"2021-12-28T11:54+0200\"\n    },\n    \"last-modifier\" : \"aa\",\n    \"creation-time\" : {\n      \"posix\" : 1640685250021,\n      \"iso-8601\" : \"2021-12-28T11:54+0200\"\n    },\n    \"creator\" : \"aa\"\n  },\n  \"tags\" : [ ],\n  \"read-only\" : true,\n  \"comments\" : \"\",\n  \"color\" : \"black\",\n  \"icon\" : \"General/Role\",\n  \"permission-level\" : \"domain level only\",\n  \"mds-provisioning\" : false,\n  \"manage-all-domains\" : false,\n  \"manage-admins\" : false,\n  \"manage-sessions\" : false,\n  \"management-api-login\" : true,\n  \"cme-operations\" : \"disabled\",\n  \"global-vpn-management\" : false,\n  \"manage-global-assignments\" : false,\n  \"enable-default-profile-for-global-domains\" : false,\n  \"view-global-objects-in-domain\" : true,\n  \"enable-default-profile-for-local-domains\" : true,\n  \"default-profile-local-domains\" : {\n    \"uid\" : \"f4a23218-5bb9-4880-94bb-9c06b951f195\",\n    \"name\" : \"Read Only All\",\n    \"type\" : \"domain-permissions-profile\",\n    \"domain\" : {\n      \"uid\" : \"a0bbbc99-adef-4ef8-bb6d-defdefdefdef\",\n      \"name\" : \"Check Point Data\",\n      \"domain-type\" : \"data domain\"\n    },\n    \"icon\" : \"General/Role\",\n    \"color\" : \"black\"\n  }\n}"
    }
  },
  "metadata": {
    "version": "2.0.1",
    "extracted_at": "2025-10-05T21:36:07.765348",
    "source_file": "add-md-permissions-profile.html"
  }
}